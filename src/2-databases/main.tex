\input{../base.tex}
\graphicspath{ {imgs/} }

\begin{document}

%==================================================
\mynonumbersection{БАЗЫ ДАННЫХ И СУБД}

%==================================================
\mysection{Введение}
Современный мир тонет в огромном количестве постоянно появляющейся информации. В 2017 году объем мировой информации оценивался в 2.7 Зеттабайта (1 Зеттабайт = $10^3$ Эксабайта = $10^6$ Петабайта = $10^9$ Терабайта = $10^{12}$ Гигабайта). В 2019 году эта оценка выросла до 4.4 Зеттабайт. Чтобы справиться с таким количеством информации нужны соответствующие инструменты, о которых и пойдёт речь. В частности мы познакомимся с базами данных (БД) и системами управления базами данных (СУБД). \\

В широком смысле понятие "база данных" обобщается до истории любых средств, с помощью которых человечество хранило и обрабатывало данные. В узком же смысле, применяемом в современном понимании, история баз данных начинается с 1955 года, когда появилось первое программируемое оборудование обработки записей. В 1965 году была сформирована Data Base Task Group (DBTG) – рабочая группа, разработавшая в дальнейшем язык описания данных (Data Definition Language) и манипулирования данными (Data Manipulation Language). Но даже спустя более чем 50 лет общепризнанной единой формулировки не существует, поэтому приведем определение на основе международных стандартов ISO/IEC: \\

\mydefinition{
База данных – совокупность данных, хранимых в соответствии со схемой данных, манипулирование которыми выполняют в соответствии с правилами средств моделирования данных.}
\

\myimage{}{0.3}{Что такое СУБД?}{why_dbms}
\

К сожалению наличия одних только баз данных недостаточно, чтобы обеспечить удобную работу с данными. Скажем, данные, хранящиеся в БД, могут быть необходимы для работы веб сайта, который в свою очередь порождает данные, задействованные для работы мобильного приложения. Для того, чтобы облегчить запись и получение данных используются системы управления базами данных. \\

\mydefinition{
СУБД – совокупность программных и лингвистических средств общего или специального назначения, обеспечивающих управление созданием и использованием баз данных.}
\

%==================================================
\mysection{Базы данных}

%========================================
\mysubsection{Мотивация}
Рассмотрим на примере завода, для чего нам нужны БД. Допустим, вы являетесь директором завода и хотите организовать своих работников, чтобы достичь большей эффективности. Завод является довольно большой организацией, так что в любой момент времени где-то что-то происходит (многие люди записывают или получают информацию). Вам понадобится хранить информацию об: \\

\begin{itemize}
  \item людях, которые работают на вас (инженеры, менеджеры и т.д.)
  \item организации, с которыми вы взаимодействуете (поставщики, заказчики)
  \item законченные и текущие операции:
    \begin{itemize}
      \item выплаты зарплат
      \item контроль производственных процессов
      \item закупки материалов
    \end{itemize}
  \item распределение плана по цехам
  \item и т.д...
\end{itemize}
\

Вам будет необходимо делиться некоторой информацией с другими организациями, с которым вы занимаетесь бизнесом, а также защищать часть этой информации. Таким образом вам понадобится: \\

\begin{itemize}
  \item директор, замдиректора и начальники должны иметь доступ ко всей информации и иметь возможность производить множество операций (закупать необходимые материалы, организовывать поставки готовых товаров и т.д.).
  \item бухгалтеры должны иметь доступ для контроля денежных потоков (выплата премий и зарплат, оплата контрактов с партнерами).
  \item рабочие должны иметь возможность запросить необходимые им ресурсы и отчитываться о выполнение поставленных задач.
  \item полу-публичный интерфейс доступный для партнеров, через который они смогут отслеживать выполнение общих задач.
\end{itemize}
\

Сформулируем некоторые требования к информационной системе, которая бы могла удовлетворить наши запросы: \\

\begin{enumerate}
  \item \textbf{Что описывать:} какие ключевые вещи из реального мира нам нужно описать? Насколько подробно?
  \item \textbf{Как хранить данные:} можем ли мы использовать текстовые файлы: люди.txt, организации.txt, деньги.txt? Если да, то в каком виде можно записывать информацию?
  \item \textbf{Контроль над доступом:} как организовать доступ к данным, чтобы бухгалтеры знали о движениях денег на заводе, но не домашние адреса рабочих. А рабочие бы знали о производственных процессах, но не о денежных переводах.
  \item \textbf{Сбор данных:} каким образом можно получить интересующие нас данные?
  \item \textbf{Быстродействие доступа:} некоторые данные нам будут нужны мгновенно, а некоторые можно ожидать в течение длительного времени.
  \item \textbf{Атомарность:} когда бухгалтер переводит деньги из одного места в другое, нам нужны гарантии, что либо деньги взяты из места А и положены в место Б, либо ничего не произошло. В противном случае мы рискуем не досчитаться денег.
  \item \textbf{Согласованность:} в любой момент времени данные должны быть верными (например, не должно быть двух работников с одним паспортом).
  \item \textbf{Изолированность:} несколько одновременных заказов материалов не должны перезаписать друг друга.
  \item \textbf{Устойчивость:} даже если выключится компьютер, у нас должна быть возможность восстановить все данные.
\end{enumerate}
\

Взглянув на все требования, становится понятно, что попытки вручную заниматься манипуляциями с данными обречены на неудачи. К счастью, БД позволяют удовлетворить все эти запросы.

%========================================
\mysubsection{Фундаментальные концепты}
Базы данных являются микромиром в мире компьютерных наук; их изучение включает в себя: языки, теория, операционные системы, параллельное программирование, пользовательские интерфейсы, оптимизация, алгоритмы, искусственный интеллект, системный дизайн, параллельные и распределенные системы, статистика, динамическое программирование. Некоторые концепты, на которых мы заострим внимание: \\

\textbf{Представление данных} \\
Нам нужен стабильный и структурированный способ представления данных для согласованности и эффективности совместного доступа к данным. Нужные нам концепты: \\


\begin{itemize}
  \item \textbf{Модель данных:} набор конструктов (или же парадигма) описывающая организацию данных. Например, таблицы, графы, иерархии, объекты, и т.д.
  \item \textbf{Логическая схема:} описание определенных наборов данных, использующее данную модель данных.
  \item \textbf{Физическая схема:} физическая организация данных, т.е. то, как данные и метаданные лежат на дисках.
\end{itemize}
\

\myimage{}{0.7}{Логическая схема части БД завода}{schema}
\

\textbf{Декларативность запросов и обработка запросов} \\
Высокоуровневый язык для описания операций над данными. Цель заключается в том, чтобы гарантировать независимость от данных, отделяя ``что'' вы хотите сделать с данными от того, ``как'' это будет достигнуто. \\

\begin{itemize}
  \item Высокоуровневый язык для доступа к данным.
  \item Независимость от данных (логически и физически)
  \item Оптимизационные приёмы для эффективного доступа к данным.
\end{itemize}
\

\textbf{Транзакции} \\
Базовый блок для доступа и манипуляций с данными. \\

\begin{itemize}
  \item способ группировки действий, которые должны произойти атомарно (всё, либо ничего).
  \item гарантирует переход БД из одного верного состояния в другое
  \item изолирует от параллельного исполнения других действий / транзакций.
  \item восстаналиваемы в случае проблем (например, пропадет электричество).
\end{itemize}
\

%==================================================
\mysection{Системы управления базами данных}
Задачей СУБД является обеспечение библиотеки изощренных методов и стратегий для хранения, доступа и обновления данных, которые также гарантируют быстродействие, атомарность, согласованность, изолированность и устойчивость. СУБД автоматически компилирует пользовательские декларативные запросы в план исполнения (стратегия выполнения различных шагов для исполнения пользовательских запросов), ищет эквивалентные и более эффективные способы получить тот же самый результат (оптимизация запросов) и исполняет их. \\

\myimage{}{0.7}{Два эквивалентных плана}{plan}
\

%========================================
\mysubsection{Состав СУБД}
Обычно современная СУБД содержит следующие компоненты: \\

\begin{itemize}
  \item \textbf{ядро}, которое отвечает за управление данными во внешней и оперативной памяти и журнализацию;
  \item \textbf{процессор языка базы данных}, обеспечивающий оптимизацию запросов на извлечение и изменение данных и создание, как правило, машинно-независимого исполняемого внутреннего кода;
  \item \textbf{подсистему поддержки времени исполнения}, которая интерпретирует программы манипуляции данными, создающие пользовательский интерфейс с СУБД;
  \item \textbf{сервисные программы} (внешние утилиты), обеспечивающие ряд дополнительных возможностей по обслуживанию информационной системы.
\end{itemize}
\

%========================================
\mysubsection{Классификация СУБД}
В мире существует огромное разнообразие различных СУБД, их можно условно разделить: \\

\begin{itemize}
  \item По модели данных
    \begin{itemize}
      \item иерархические. Данные представляются в виде древовидной структуры.
      \item сетевые. Данные представляются в виде графа, т.е. в отличие от иерархической модели у каждой записи-потомка может быть несколько предков.
      \item реляционные. Отношения между данными опираются на математическом понятии отношение.
      \item объектно-ориентированные. Данные представляются в виде объектов, наделенных свойствами и использующие методы взаимодействия с другими объектами.
      \item объектно-реляционные. Сочетает подходы реляционных и объектно-ориентированных СУБД.
    \end{itemize}
  \item По степени распредленности
    \begin{itemize}
      \item локальные (все части локальной СУБД размещаются на одном компьютере)
      \item распределенные (части СУБД могут размещаться не только на одном, но на двух и более компьютерах)
    \end{itemize}
  \item По способу доступа к БД
    \begin{itemize}
      \item файл-серверные. СУБД располагается на каждом клиентском компьютере, а доступ к данным осуществляется через локальную сеть.
      \item клиент-серверные. СУБД располагается на сервере вместе с БД и осуществляет доступ к БД непосредственно.
      \item встраиваемые. СУБД может быть частью некоторого программного продукта, не требуя процедуры самостоятельной установки.
    \end{itemize}
\end{itemize}

\end{document}